{"version":3,"file":"static/js/ProductPage.36121c9f.chunk.js","mappings":"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","sources":["Components/Basket/index.ts","Components/Basket/Basket.tsx","Components/Header/index.ts","Components/Header/Header.tsx","General/ButtonAddBasket.tsx","General/changeCountItemInBasket.ts","General/deleteItem.ts","Pages/NotFound.jsx","API/getOneProduct.ts","Components/productOneList/index.ts","Components/productOneList/productOneList.tsx","Pages/Product.tsx","constants/constants.ts","state/index.ts"],"sourcesContent":["import { Basket } from \"./Basket\";\n\nexport default Basket;\n","import { useGlobalState, setGlobalState } from \"../../state\";\nimport { PATH_BACKEND } from \"../../constants/constants\";\nimport ButtonAddBasket from \"../../General/ButtonAddBasket\";\n\nexport const Basket = () => {\n  const itemsInMasket = useGlobalState(\"itemForBasket\");\n  const products = useGlobalState(\"items\");\n\n  const visibleInBasket = (event: React.MouseEvent) => {\n    const { nodeName } = event.target as HTMLElement;\n    const { id } = event.currentTarget as HTMLElement;\n    if (nodeName === \"DIV\" || nodeName === \"BUTTON\") {\n      return;\n    }\n\n    const changeProduct = products[0]!.find(el => el.id === +id);\n    setGlobalState(\"item\", [changeProduct!]);\n  };\n\n  return (\n    <div className=\"basket_container\">\n      <p>Favorites</p>\n      <ul className=\"basket_list\">\n        {itemsInMasket[0] &&\n          itemsInMasket[0].map(data => {\n            return (\n              <li\n                key={data.id}\n                className=\"basket_list-item\"\n                onClick={visibleInBasket}\n                id={String(data.id)}\n              >\n                <div>\n                  <img\n                    src={`${PATH_BACKEND}${data.src}`}\n                    alt={data.name}\n                    width=\"108\"\n                  />\n                </div>\n                <div className=\"basket_info-container\">\n                  <p>{data.name}</p>\n                  <div className=\"basket_button-container\">\n                    <span>$ {data.price}</span>\n                    {itemsInMasket[0] && (\n                      <ButtonAddBasket\n                        items={itemsInMasket[0]}\n                        id={String(data.id)}\n                      />\n                    )}\n                  </div>\n                </div>\n              </li>\n            );\n          })}\n      </ul>\n    </div>\n  );\n};\n","import { Header } from \"./Header\";\n\nexport default Header;\n","import { IHeaderProps } from \"../../Interfaces/Header.interface\";\n\nexport const Header = ({ title }: IHeaderProps) => {\n  return (\n    <header className=\"header\">\n      <div className=\"container\">\n        <p className=\"header_title\">{title}</p>\n      </div>\n    </header>\n  );\n};\n","import { IButtonAddBasketProps } from \"../Interfaces/ButtonAddBasket\";\nimport { useGlobalState } from \"../state\";\nimport changeCountItemInBasket from \"./changeCountItemInBasket\";\n\nexport default function ButtonAddBasket({ items, id }: IButtonAddBasketProps) {\n  const products = useGlobalState(\"items\");\n\n  const changeItem = () => {\n    changeCountItemInBasket(products[0]!, items!, id);\n  };\n\n  return (\n    <button onClick={changeItem} className=\"products-list_button\">\n      <div\n        className={\n          items && items.find(elem => elem.id === +id)\n            ? \"heart--active\"\n            : \"heart\"\n        }\n      ></div>\n    </button>\n  );\n}\n","import IProduct from \"../Interfaces/Product.interface\";\nimport { setGlobalState } from \"../state\";\nimport deleteItem from \"./deleteItem\";\n\nexport default function changeCountItemInBasket(\n  products: IProduct[],\n  items: IProduct[],\n  id: string\n) {\n  const saveBasket = products!.find(el => el.id === +id);\n  console.log(id);\n  if (!items || items.length === 0) {\n    setGlobalState(\"itemForBasket\", [saveBasket!]);\n    return;\n  }\n  const findRepeatItem = items.find(element => element.id === +id);\n  if (findRepeatItem) {\n    deleteItem(items, id);\n    return;\n  }\n  setGlobalState(\"itemForBasket\", [...items, saveBasket!]);\n}\n","import { setGlobalState } from \"../state\";\nimport IProduct from \"../Interfaces/Product.interface\";\n\nexport default function deleteItem(items: IProduct[], id: string) {\n  const deleteActiveId = items.filter(e => e.id !== +id);\n  setGlobalState(\"itemForBasket\", deleteActiveId);\n}\n","import Header from \"../Components/Header\";\n\nexport default function PageNotFound() {\n  return (\n    <>\n      <Header />\n      <div className=\"not-found\">\n        <h1>Not found</h1>\n      </div>\n    </>\n  );\n}\n","import axios from \"axios\";\n\nexport default async function getOneProduct(id: string) {\n  try {\n    const result = await axios.get(\n      `https://testbackend.nc-one.com/image?id=${id}`\n    );\n    return result.data;\n  } catch (error) {\n    return error;\n  }\n}\n","import { ProductOneList } from \"./productOneList\";\n\nexport default ProductOneList;\n","import { useParams } from \"react-router-dom\";\nimport { useGlobalState } from \"../../state\";\nimport { PATH_BACKEND } from \"../../constants/constants\";\nimport ChangeCountItemInBasket from \"../../General/changeCountItemInBasket\";\n\nexport const ProductOneList = () => {\n  const products = useGlobalState(\"items\");\n  const item = useGlobalState(\"item\");\n  const items = useGlobalState(\"itemForBasket\");\n  const { id } = useParams<{ id: string }>();\n\n  const changeCount = (event: React.MouseEvent) => {\n    const changeId = event.currentTarget.id;\n    if (changeId === id) {\n      ChangeCountItemInBasket(products[0]!, items[0]!, id!);\n      return;\n    }\n    ChangeCountItemInBasket(products[0]!, items[0]!, changeId!);\n  };\n\n  return (\n    <>\n      {item[0] &&\n        item[0].map(data => {\n          return (\n            <div className=\"product_container\" key={data.id}>\n              <div className=\"product_image-container\">\n                <img\n                  src={`${PATH_BACKEND}${data.src}`}\n                  alt={data.name}\n                  width=\"448\"\n                />\n              </div>\n              <div className=\"product_info-container\">\n                <p>{data.name}</p>\n                <div className=\"product_list-button-container\">\n                  <span>$ {data.price}</span>\n                  <button\n                    onClick={changeCount}\n                    id={String(data.id)}\n                    className=\"product-list_button\"\n                  >\n                    <div\n                      className={\n                        items[0] && items[0].find(elem => elem.id === +data.id)\n                          ? \"product_heart--active\"\n                          : \"product_heart\"\n                      }\n                    ></div>\n                  </button>\n                </div>\n              </div>\n            </div>\n          );\n        })}\n    </>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Basket from \"../Components/Basket\";\nimport Header from \"../Components/Header\";\nimport getOneProduct from \"../API/getOneProduct\";\nimport ProductOneList from \"../Components/productOneList\";\nimport IProduct from \"../Interfaces/Product.interface\";\nimport { setGlobalState } from \"../state\";\nimport PageNotFound from \"./NotFound\";\n\nexport default function ProductPage() {\n  const { id } = useParams<{ id: string }>();\n\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    getProduct(id!);\n    async function getProduct(id: string) {\n      try {\n        const result: IProduct = await getOneProduct(id);\n        setGlobalState(\"item\", [result]);\n        setError(false);\n      } catch (error) {\n        setError(true);\n      }\n    }\n  }, [id]);\n\n  return (\n    <>\n      <Header title=\"Product list Page\" />\n      {error && <PageNotFound />}\n      {!error && (\n        <main>\n          <section className=\"product-pages_section\">\n            <div className=\"container\">\n              <div className=\"products-page_container\">\n                <Basket />\n                <ProductOneList />\n              </div>\n            </div>\n          </section>\n        </main>\n      )}\n    </>\n  );\n}\n","const PATH_BACKEND = \"https://testbackend.nc-one.com\";\n\nexport { PATH_BACKEND };\n","import { createGlobalState } from \"react-hooks-global-state\";\nimport IState from \"../Interfaces/State.interface\";\n\nexport const initialState: IState = {\n  itemForBasket: null,\n  items: null,\n  item: null,\n};\n\nconst { setGlobalState, useGlobalState } = createGlobalState(initialState);\n\nexport { setGlobalState, useGlobalState };\n"],"names":["itemsInMasket","useGlobalState","products","visibleInBasket","event","nodeName","target","id","currentTarget","changeProduct","find","el","setGlobalState","className","map","data","onClick","String","src","PATH_BACKEND","alt","name","width","price","ButtonAddBasket","items","title","changeCountItemInBasket","elem","saveBasket","console","log","length","element","deleteActiveId","filter","e","deleteItem","PageNotFound","getOneProduct","axios","result","item","useParams","changeCount","changeId","ChangeCountItemInBasket","ProductPage","useState","error","setError","useEffect","getProduct","Header","Basket","createGlobalState","itemForBasket"],"sourceRoot":""}